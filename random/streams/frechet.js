// This file is a part of stdlib. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
import e from"./../../utils/define-nonenumerable-read-only-property.js";import t from"./../../vendor/process.js";import r from"./../../vendor/readable-stream.js";import i from"./../../assert/is-positive-number.js";import o from"./../../assert/is-number.js";import n from"./../../math/base/assert/is-nan.js";import s from"./../../assert/is-error.js";import a from"./../../utils/copy.js";import p from"./../../utils/inherit.js";import m from"./../../utils/define-nonenumerable-property.js";import d from"./../../utils/define-read-only-accessor.js";import u from"./../../utils/define-read-write-accessor.js";import h from"./../base/frechet.js";import g from"./../../buffer/from-string.js";import f from"./../../assert/is-plain-object.js";import c from"./../../assert/has-own-property.js";import l from"./../../assert/is-boolean.js";import b from"./../../assert/is-nonnegative-number.js";import v from"./../../assert/is-string.js";import y from"./../../assert/is-positive-integer.js";import j from"./../../assert/is-nonnegative-integer.js";import _ from"./../../vendor/debug.js";var w=!1,M=null,T="\n",E=!0,O=1e308,N={objectMode:w,encoding:M,sep:T,copy:E,siter:O},P=f,k=c,L=l.isPrimitive,V=b.isPrimitive,W=v.isPrimitive,S=y.isPrimitive,G=j.isPrimitive;function R(e,t){return P(t)?k(t,"sep")&&(e.sep=t.sep,!W(e.sep))?new TypeError("invalid option. `sep` option must be a primitive string. Option: `"+e.sep+"`."):k(t,"objectMode")&&(e.objectMode=t.objectMode,!L(e.objectMode))?new TypeError("invalid option. `objectMode` option must be a primitive boolean. Option: `"+e.objectMode+"`."):k(t,"encoding")&&(e.encoding=t.encoding,!W(e.encoding)&&null!==e.encoding)?new TypeError("invalid option. `encoding` option must be a primitive string or null. Option: `"+e.encoding+"`."):k(t,"highWaterMark")&&(e.highWaterMark=t.highWaterMark,!V(e.highWaterMark))?new TypeError("invalid option. `highWaterMark` option must be a nonnegative number. Option: `"+e.highWaterMark+"`."):k(t,"iter")&&(e.iter=t.iter,!G(e.iter))?new TypeError("invalid option. `iter` option must be a nonnegative integer. Option: `"+e.iter+"`."):k(t,"siter")&&(e.siter=t.siter,!S(e.siter))?new TypeError("invalid option. `siter` option must be a positive integer. Option: `"+e.siter+"`."):(k(t,"prng")&&(e.prng=t.prng),k(t,"seed")&&(e.seed=t.seed),k(t,"state")&&(e.state=t.state),k(t,"copy")&&(e.copy=t.copy),null):new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")}var x=_,C=x("random:streams:frechet"),F=r.Readable,J=i,A=o.isPrimitive,I=n,q=s,z=a,B=p,D=m,H=e,K=d,Q=u,U=h.factory,X=g,Y=N,Z=R,$=C;function ee(){return this._prng.seed}function te(){return this._prng.seedLength}function re(){return this._prng.stateLength}function ie(){return this._prng.byteLength}function oe(){return this._prng.state}function ne(e){this._prng.state=e}function se(){var e,t;if(!this._destroyed)for(e=!0;e;){if(this._i+=1,this._i>this._iter)return $("Finished generating pseudorandom numbers."),this.push(null);t=this._prng(),$("Generated a new pseudorandom number. Value: %d. Iter: %d.",t,this._i),!1===this._objectMode&&(t=t.toString(),t=1===this._i?X(t):X(this._sep+t)),e=this.push(t),this._i%this._siter==0&&this.emit("state",this.state)}}function ae(e){var r;return this._destroyed?($("Attempted to destroy an already destroyed stream."),this):(r=this,this._destroyed=!0,t.nextTick((function(){e&&($("Stream was destroyed due to an error. Error: %s.",q(e)?e.message:JSON.stringify(e)),r.emit("error",e));$("Closing the stream..."),r.emit("close")})),this)}function pe(e,t,r,i){var o,n;if(!(this instanceof pe))return arguments.length>3?new pe(e,t,r,i):new pe(e,t,r);if(!J(e))throw new TypeError("invalid argument. First argument must be a positive number primitive and not `NaN`. Value: `"+e+"`.");if(!J(t))throw new TypeError("invalid argument. Second argument must be a positive number primitive and not `NaN`. Value: `"+t+"`.");if(!A(r)||I(r))throw new TypeError("invalid argument. Third argument must be a number primitive. Value: `"+r+"`.");if(o=z(Y),arguments.length>3&&(n=Z(o,i)))throw n;return $("Creating a readable stream configured with the following options: %s.",JSON.stringify(o)),F.call(this,o),D(this,"_destroyed",!1),H(this,"_objectMode",o.objectMode),H(this,"_sep",o.sep),H(this,"_iter",o.iter),H(this,"_siter",o.siter),D(this,"_i",0),H(this,"_prng",U(e,t,r,o)),H(this,"PRNG",this._prng.PRNG),this}B(pe,F),K(pe.prototype,"seed",ee),K(pe.prototype,"seedLength",te),Q(pe.prototype,"state",oe,ne),K(pe.prototype,"stateLength",re),K(pe.prototype,"byteLength",ie),H(pe.prototype,"_read",se),H(pe.prototype,"destroy",ae);var me=f,de=a,ue=pe;function he(e,t,r,i){var o;if(arguments.length>3){if(!me(o=i))throw new TypeError("invalid argument. Options must be an object. Value: `"+o+"`.");o=de(i,1)}else o={};return o.objectMode=!0,new ue(e,t,r,o)}var ge=a,fe=pe;function ce(e,t,r,i){var o,n;return n=1===(o=arguments.length)?ge(e,1):o>3?ge(i,1):{},o<3?s:a;function s(e,t,r){return new fe(e,t,r,n)}function a(){return new fe(e,t,r,n)}}var le=e,be=pe,ve=he,ye=ce;le(be,"objectMode",ve),le(be,"factory",ye);export default be;
//# sourceMappingURL=frechet.js.map