{"version":3,"sources":["@stdlib/stats/incr/kurtosis/lib/main.js","@stdlib/stats/incr/kurtosis/lib/index.js"],"names":["isnan","__var_0__","incrkurtosis","deltaN2","deltaN","delta","term1","mean","tmp","M2","M3","M4","N","x","arguments","length","NaN"],"mappings":"kDAsBA,IAAIA,EAAQC,EAsCZ,SAASC,IACR,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EACAC,EACAC,EAYJ,OAVAT,EAAU,EACVC,EAAS,EACTC,EAAQ,EACRC,EAAQ,EACRC,EAAO,EACPE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAI,EAWJ,SAAsBC,GACrB,GAA0B,IAArBC,UAAUC,OACd,OAAKH,EAAI,EACCZ,EAAOW,GAASK,IAAM,MAMxBJ,EAAE,KAAQA,EAAE,IAAIA,EAAE,MAAWA,EAAE,IAH/BA,EAAED,GAASF,EAAGA,GAAQ,GAGkB,GAoBjD,GAXAD,GAFAF,GAJAD,EAAQQ,EAAIN,IACZH,EAASC,GAFTO,GAAK,KAKqBA,EAAE,KAF5BT,EAAUC,EAASA,IAIOQ,EAAEA,EAAM,EAAEA,EAAK,GACzCJ,GAAO,EAAML,EAAUM,EAEvBE,GADAH,GAAO,EAAMJ,EAASM,EAGtBF,EAAMF,EAAQF,GAAUQ,EAAE,GAE1BF,GADAF,GAAO,EAAMJ,EAASK,EAGtBA,GAAMH,EACNC,GAAQH,EACHQ,EAAI,EACR,OAASZ,EAAOW,GAASK,IAAM,KAMhC,OAAQJ,EAAE,KAAQA,EAAE,IAAIA,EAAE,MAAWA,EAAE,IAHjCA,EAAED,GAAOF,EAAGA,GAAQ,GAGsB,ICnF/C,IAACP,EAAeD","sourcesContent":["import __var_0__ from '@stdlib/math/base/assert/is-nan';\n/**\n\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\nvar isnan = __var_0__;\n\n\n// MAIN //\n\n/**\n* Returns an accumulator function which incrementally computes a corrected sample excess kurtosis.\n*\n* ## Method\n*\n* The algorithm computes the sample excess kurtosis using the formula for `G_2` in [Joanes and Gill 1998][@joanes:1998]. In contrast to alternatives for calculating a sample kurtosis, `G_2` is an unbiased estimator under normality.\n*\n* ## References\n*\n* -   Joanes, D. N., and C. A. Gill. 1998. \"Comparing measures of sample skewness and kurtosis.\" _Journal of the Royal Statistical Society: Series D (The Statistician)_ 47 (1). Blackwell Publishers Ltd: 183â€“89. doi:[10.1111/1467-9884.00122][@joanes:1998].\n*\n* [@joanes:1998]: http://dx.doi.org/10.1111/1467-9884.00122\n*\n* @returns {Function} accumulator function\n*\n* @example\n* var accumulator = incrkurtosis();\n*\n* var kurtosis = accumulator();\n* // returns null\n*\n* kurtosis = accumulator( 2.0 );\n* // returns null\n*\n* kurtosis = accumulator( 2.0 );\n* // returns null\n*\n* kurtosis = accumulator( -4.0 );\n* // returns null\n*\n* kurtosis = accumulator( -4.0 );\n* // returns -6.0\n*/\nfunction incrkurtosis() {\n\tvar deltaN2;\n\tvar deltaN;\n\tvar delta;\n\tvar term1;\n\tvar mean;\n\tvar tmp;\n\tvar g2;\n\tvar M2;\n\tvar M3;\n\tvar M4;\n\tvar N;\n\n\tdeltaN2 = 0.0;\n\tdeltaN = 0.0;\n\tdelta = 0.0;\n\tterm1 = 0.0;\n\tmean = 0.0;\n\tM2 = 0.0;\n\tM3 = 0.0;\n\tM4 = 0.0;\n\tN = 0;\n\n\treturn accumulator;\n\n\t/**\n\t* If provided a value, the accumulator function returns an updated corrected sample excess kurtosis. If not provided a value, the accumulator function returns the current corrected sample excess kurtosis.\n\t*\n\t* @private\n\t* @param {number} [x] - new value\n\t* @returns {(number|null)} corrected sample excess kurtosis\n\t*/\n\tfunction accumulator( x ) {\n\t\tif ( arguments.length === 0 ) {\n\t\t\tif ( N < 4 ) {\n\t\t\t\treturn ( isnan( M4 ) ) ? NaN : null;\n\t\t\t}\n\t\t\t// Calculate the population excess kurtosis:\n\t\t\tg2 = (( N*M4 ) / ( M2*M2 )) - 3.0;\n\n\t\t\t// Return the corrected sample excess kurtosis:\n\t\t\treturn (N-1) / ( (N-2)*(N-3) ) * ( ((N+1)*g2) + 6.0 );\n\t\t}\n\t\tN += 1;\n\t\tdelta = x - mean;\n\t\tdeltaN = delta / N;\n\t\tdeltaN2 = deltaN * deltaN;\n\n\t\tterm1 = delta * deltaN * (N-1);\n\n\t\ttmp = term1 * deltaN2 * ((N*N) - (3*N) + 3);\n\t\ttmp += 6.0 * deltaN2 * M2;\n\t\ttmp -= 4.0 * deltaN * M3;\n\t\tM4 += tmp;\n\n\t\ttmp = term1 * deltaN * (N-2);\n\t\ttmp -= 3.0 * deltaN * M2;\n\t\tM3 += tmp;\n\n\t\tM2 += term1;\n\t\tmean += deltaN;\n\t\tif ( N < 4 ) {\n\t\t\treturn ( isnan( M4 ) ) ? NaN : null;\n\t\t}\n\t\t// Calculate the population excess kurtosis:\n\t\tg2 = (N*M4 / ( M2*M2 )) - 3.0;\n\n\t\t// Return the corrected sample excess kurtosis:\n\t\treturn (N-1) / ( (N-2)*(N-3) ) * ( ((N+1)*g2) + 6.0 );\n\t}\n}\n\n\n// EXPORTS //\nexport default incrkurtosis;\n","import __var_0__ from './main.js';\n/**\n\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Compute a corrected sample excess kurtosis incrementally.\n*\n* @module @stdlib/stats/incr/kurtosis\n*\n* @example\n* var incrkurtosis = require( '@stdlib/stats/incr/kurtosis' );\n*\n* var accumulator = incrkurtosis();\n*\n* var kurtosis = accumulator( 2.0 );\n* // returns null\n*\n* kurtosis = accumulator( 2.0 );\n* // returns null\n*\n* kurtosis = accumulator( -4.0 );\n* // returns null\n*\n* kurtosis = accumulator( -4.0 );\n* // returns -6.0\n*/\n\n// MODULES //\nvar incrkurtosis = __var_0__;\n\n\n// EXPORTS //\nexport default incrkurtosis;\n"]}