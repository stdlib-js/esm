// This file is a part of stdlib. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
import i from"./../../../vendor/debug.js";import t from"./../../../utils/define-property.js";import e from"./../../../utils/keys.js";import n from"./../../../assert/is-array-like.js";import r from"./../../../utils/merge.js";import s from"./../../../utils/pick.js";import a from"./../../../utils/inherit.js";import o from"./../base/ctor.js";import l from"./../../../assert/is-boolean.js";import f from"./../../../assert/is-finite.js";import u from"./../../../assert/is-null.js";import h from"./../../../constants/math/float64-pinf.js";import m from"./../../../constants/math/float64-ninf.js";import p from"./../../../math/base/special/abs.js";import y from"./../../../math/base/special/round.js";function c(){var i={infinities:!1,yMax:null,yMin:null};return i}var v=i,_=l.isPrimitive,d=v("sparkline:line-chart:unicode:set:infinities");function M(i){if(!_(i))throw new TypeError("invalid value. `infinities` must be a boolean primitive. Value: `"+i+"`.");i!==this._infinities&&(d("Current value: %s.",this._infinities),this._infinities=i,d("New value: %s.",this._infinities),this.emit("change"))}function g(){return this._infinities}var b=i,w=f.isPrimitive,j=u,x=b("sparkline:line-chart:unicode:set:y-max");function k(i){if(!w(i)&&!j(i))throw new TypeError("invalid value. `yMax` must be a finite number primitive or null. Value: `"+i+"`.");i!==this._yMax&&(x("Current value: %s.",this._yMax),this._yMax=i,x("New value: %s.",this._yMax),this.emit("change"))}var C=h,N=m;function D(){var i,t,e,n;if(null===this._yMax){for(t=this._data.length,i=N,n=0;n<t;n++)e=this._data[n],this._isDefined(e)&&e!==C&&e>i&&(i=e);return i}return this._yMax}var E=i,P=f.isPrimitive,T=u,V=E("sparkline:line-chart:unicode:set:y-min");function A(i){if(!P(i)&&!T(i))throw new TypeError("invalid value. `yMin` must be a finite number primitive or null. Value: `"+i+"`.");i!==this._yMin&&(V("Current value: %s.",this._yMin),this._yMin=i,V("New value: %s.",this._yMin),this.emit("change"))}var J=h,O=m;function S(){var i,t,e,n;if(null===this._yMin){for(t=this._data.length,i=J,n=0;n<t;n++)e=this._data[n],this._isDefined(e)&&e!==O&&e<i&&(i=e);return i}return this._yMin}var q=p,z=y,B=h,F=m,G=[["⣀","⡠","⡐","⡈"],["⢄","⠤","⠔","⠌"],["⢂","⠢","⠒","⠊"],["⢁","⠡","⠑","⠉"]],H="∞",I=" ";function K(){var i,t,e,n,r,s,a,o,l,f,u,h;if(0===(s=this._data.length))return"";for(n=this.yMin,r=this.yMax,i=0===(t=q(r-n))?0===r?[[G[0][0]]]:[[G[2][2]]]:G,a=new Array(s),o=new Array(s),f=i.length-1,u=0;u<s;u++)l=this._data[u],this._isDefined(l,u)&&l!==B&&l!==F?((h=z((t?(l-n)/t:0)*f))<0?h=0:h>f&&(h=f),a[u]=h):o[u]=!0;for(e="",u=0;u<s;u++)if(l=this._data[u],!this._infinities||l!==B&&l!==F)if(o[u])e+=I;else{if(u===s-1){e+=i[h=a[u]][h];break}h=u+1,h=(f=this._data[h])===B?3:f===F?0:o[h]?a[u]:a[h],e+=i[a[u]][h]}else e+=H;return e}var L=i,Q=t,R=e,U=n,W=r.factory,X=s,Y=a,Z=o,$=c,ii=M,ti=g,ei=k,ni=D,ri=A,si=S,ai=K,oi=L("sparkline:line-chart:unicode:main"),li=W({extend:!1}),fi=["_infinities","_yMax","_yMin"],ui=["infinities","yMax","yMin"];function hi(){var i,t,e,n,r,s;if(t=arguments.length,!(this instanceof hi))return 0===t?new hi:1===t?new hi(arguments[0]):new hi(arguments[0],arguments[1]);for(0===t?Z.call(this):1===t?Z.call(this,arguments[0]):Z.call(this,arguments[0],arguments[1]),e=$(),i=1!==t||U(arguments[0])?2===t?arguments[1]:{}:arguments[0],e=li(e,X(i,ui)),oi("Creating an instance with the following configuration: %s.",JSON.stringify(i)),s=0;s<fi.length;s++)Q(this,fi[s],{configurable:!1,enumerable:!1,writable:!0,value:null});for(n=R(e),s=0;s<n.length;s++)this[r=n[s]]=e[r];return this}Y(hi,Z),Q(hi.prototype,"infinities",{configurable:!1,enumerable:!0,set:ii,get:ti}),Q(hi.prototype,"yMax",{configurable:!1,enumerable:!0,set:ei,get:ni}),Q(hi.prototype,"yMin",{configurable:!1,enumerable:!0,set:ri,get:si}),hi.prototype._render=ai;var mi=hi;export default mi;
//# sourceMappingURL=line.js.map