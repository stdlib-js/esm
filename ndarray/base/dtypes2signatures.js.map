{"version":3,"sources":["@stdlib/ndarray/base/dtypes2signatures/lib/main.js","@stdlib/ndarray/base/dtypes2signatures/lib/index.js"],"names":["isArrayLikeObject","__var_0__","isString","__var_1__","isPrimitive","isNonNegativeInteger","__var_2__","dtypes2signatures","dtypes","nin","nout","len","out","tmp","N","M","i","m","TypeError","length","RangeError","push","join","main"],"mappings":"yJAwBA,IAAIA,EAAoBC,EACpBC,EAAWC,EAAUC,YACrBC,EAAuBC,EAAUF,YA2BrC,SAASG,EAAmBC,EAAQC,EAAKC,GACxC,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEJ,IAAMjB,EAAmBQ,GACxB,MAAM,IAAIU,UAAW,6FAA+FV,EAAS,MAE9H,IAAMH,EAAsBI,GAC3B,MAAM,IAAIS,UAAW,4EAA8ET,EAAM,MAE1G,IAAMJ,EAAsBK,GAC3B,MAAM,IAAIQ,UAAW,2EAA6ER,EAAO,MAG1G,GAAa,KADbC,EAAMH,EAAOW,QAEZ,MAAM,IAAIC,WAAY,uEAGvB,GAAKT,GADLG,EAAIL,EAAMC,IACK,EACd,MAAM,IAAIU,WAAY,4GAUvB,IARAR,EAAM,GAGNC,EAAM,GAGNE,EAAI,EAAID,EACRG,EAAI,EAAIR,EACFO,EAAI,EAAGA,GAAKD,EAAGC,IACT,IAANA,EACCA,IAAMC,EACVJ,EAAIQ,KAAM,WAEVR,EAAIQ,KAAM,KAEAL,IAAMD,EACZC,IAAMC,EACVJ,EAAIQ,KAAM,WAEVR,EAAIQ,KAAM,KAEAL,IAAMC,EACjBJ,EAAIQ,KAAM,UACCL,EAAE,GAAM,EACnBH,EAAIQ,KAAM,IAEVR,EAAIQ,KAAM,MAGZ,IAAML,EAAI,EAAGA,EAAIL,EAAKK,IAAM,CAC3B,IAAMd,EAAUM,EAAQQ,IACvB,MAAM,IAAIE,UAAW,6FAA+FV,EAAS,MAG9HK,EAAM,GADNI,EAAID,EAAIF,GACG,GAAMN,EAAQQ,GACpBC,IAAMH,EAAE,GACZF,EAAIS,KAAMR,EAAIS,KAAM,KAGtB,OAAOV,EC/EL,IAACW,EAAOtB","sourcesContent":["import __var_0__ from '@stdlib/assert/is-array-like-object';\nimport __var_1__ from '@stdlib/assert/is-string';\nimport __var_2__ from '@stdlib/assert/is-nonnegative-integer';\n/**\n\n*\n* Copyright (c) 2020 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\nvar isArrayLikeObject = __var_0__;\nvar isString = __var_1__.isPrimitive;\nvar isNonNegativeInteger = __var_2__.isPrimitive;\n\n\n// MAIN //\n\n/**\n* Transforms a list of array argument data types into a list of signatures.\n*\n* @param {StringArray} dtypes - list of array argument data types\n* @param {NonNegativeInteger} nin - number of input array arguments\n* @param {NonNegativeInteger} nout - number of output array arguments\n* @throws {TypeError} first argument must be an array-like object containing strings\n* @throws {TypeError} second argument must be a nonnegative integer\n* @throws {TypeError} third argument must be a nonnegative integer\n* @throws {RangeError} first argument must have at least one element\n* @throws {RangeError} length of the first argument is incompatible with the second and third arguments\n* @returns {StringArray} list of signatures\n*\n* @example\n* var dtypes = [\n*     'float64', 'float64',\n*     'float32', 'float32'\n* ];\n*\n* var sigs = dtypes2signatures( dtypes, 1, 1 );\n* // returns [ '(float64) => (float64)', '(float32) => (float32)' ]\n*/\nfunction dtypes2signatures( dtypes, nin, nout ) {\n\tvar len;\n\tvar out;\n\tvar tmp;\n\tvar N;\n\tvar M;\n\tvar i;\n\tvar m;\n\n\tif ( !isArrayLikeObject( dtypes ) ) {\n\t\tthrow new TypeError( 'invalid argument. First argument must be an array-like object containing strings. Value: `' + dtypes + '`.' );\n\t}\n\tif ( !isNonNegativeInteger( nin ) ) {\n\t\tthrow new TypeError( 'invalid argument. Second argument must be a nonnegative integer. Value: `' + nin + '`.' );\n\t}\n\tif ( !isNonNegativeInteger( nout ) ) {\n\t\tthrow new TypeError( 'invalid argument. Third argument must be a nonnegative integer. Value: `' + nout + '`.' );\n\t}\n\tlen = dtypes.length;\n\tif ( len === 0 ) {\n\t\tthrow new RangeError( 'invalid argument. First argument must contain at least one element.' );\n\t}\n\tN = nin + nout;\n\tif ( len%N !== 0 ) {\n\t\tthrow new RangeError( 'invalid arguments. The length of the first argument is incompatible with the second and third arguments.' );\n\t}\n\tout = [];\n\n\t// Create a temporary array for storing signatures...\n\ttmp = [];\n\n\t// [ '(', <in_dtype>, ', ', ..., ') => (', <out_dtype>, ', ', ..., ')' ] => 1+nin+nin-1+1+nout+nout-1+1 => 1 + (2*nin) + (2*nout) => 1 + (2*(nin+nout))\n\tM = 2 * N;\n\tm = 2 * nin;\n\tfor ( i = 0; i <= M; i++ ) {\n\t\tif ( i === 0 ) {\n\t\t\tif ( i === m ) {\n\t\t\t\ttmp.push( '() => (' );\n\t\t\t} else {\n\t\t\t\ttmp.push( '(' );\n\t\t\t}\n\t\t} else if ( i === M ) {\n\t\t\tif ( i === m ) {\n\t\t\t\ttmp.push( ') => ()' );\n\t\t\t} else {\n\t\t\t\ttmp.push( ')' );\n\t\t\t}\n\t\t} else if ( i === m ) {\n\t\t\ttmp.push( ') => (' );\n\t\t} else if ( i%2 === 1 ) {\n\t\t\ttmp.push( '' );\n\t\t} else {\n\t\t\ttmp.push( ', ' );\n\t\t}\n\t}\n\tfor ( i = 0; i < len; i++ ) {\n\t\tif ( !isString( dtypes[ i ] ) ) {\n\t\t\tthrow new TypeError( 'invalid argument. First argument must be an array-like object containing strings. Value: `' + dtypes + '`.' );\n\t\t}\n\t\tm = i % N;\n\t\ttmp[ (2*m)+1 ] = dtypes[ i ];\n\t\tif ( m === N-1 ) {\n\t\t\tout.push( tmp.join( '' ) );\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\nexport default dtypes2signatures;\n","import __var_0__ from './main.js';\n/**\n\n*\n* Copyright (c) 2020 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Transform a list of array argument data types into a list of signatures.\n*\n* @module @stdlib/ndarray/base/dtypes2signatures\n*\n* @example\n* var dtypes2signatures = require( '@stdlib/ndarray/base/dtypes2signatures' );\n*\n* var dtypes = [\n*     'float64', 'float64',\n*     'float32', 'float32'\n* ];\n*\n* var sigs = dtypes2signatures( dtypes, 2, 0 );\n* // returns [ '(float64) => (float64)', '(float32) => (float32)' ]\n*/\n\n// MODULES //\nvar main = __var_0__;\n\n\n// EXPORTS //\nexport default main;\n"]}