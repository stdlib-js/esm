{"version":3,"sources":["@stdlib/ndarray/sub2ind/lib/validate.js","@stdlib/ndarray/sub2ind/lib/main.js","@stdlib/ndarray/sub2ind/lib/index.js"],"names":["isObject","__var_0__","hasOwnProp","__var_1__","isArray","__var_2__","isOrder","__var_3__","isIndexMode","__var_4__","validate","opts","options","i","TypeError","mode","length","order","isNonNegativeIntegerArray","primitives","isInteger","isPrimitive","shape2strides","getIndex","defaults","__var_5__","sub2ind","shape","ndims","args","err","len","j","arguments","slice","RangeError","Array","apply"],"mappings":"wbA0BIA,EAAWC,EACXC,EAAaC,EACbC,EAAUC,EACVC,EAAUC,EACVC,EAAcC,EA0BlB,SAASC,EAAUC,EAAMC,GACxB,IAAIC,EACJ,IAAMb,EAAUY,GACf,OAAO,IAAIE,UAAW,wDAA0DF,EAAU,MAE3F,GAAKV,EAAYU,EAAS,QAAW,CAEpC,GADAD,EAAKI,KAAOH,EAAQG,KACdX,EAASO,EAAKI,OAEb,GAA0B,IAArBJ,EAAKI,KAAKC,OACrB,OAAO,IAAIF,UAAW,gEAFtBH,EAAKI,KAAO,CAAEJ,EAAKI,MAIpB,IAAMF,EAAI,EAAGA,EAAIF,EAAKI,KAAKC,OAAQH,IAClC,IAAML,EAAaG,EAAKI,KAAMF,IAC7B,OAAO,IAAIC,UAAW,+EAAiFH,EAAKI,KAAMF,GAAM,MAI3H,OAAKX,EAAYU,EAAS,WACzBD,EAAKM,MAAQL,EAAQK,OACfX,EAASK,EAAKM,QACZ,IAAIH,UAAW,iFAAmFH,EAAKM,MAAQ,MAGjH,KCrDR,IAAIC,EAA4BjB,EAAUkB,WACtCC,EAAYjB,EAAUkB,YACtBC,EAAgBjB,EAChBkB,EAAWhB,EACXiB,EAAWf,EACXC,EAAWe,EAoCf,SAASC,IACR,IACIC,EACAC,EACAC,EACAlB,EACAmB,EACAC,EACAlB,EACAmB,EAGJ,IAAMd,EADNS,EAAQM,UAAW,IAElB,MAAM,IAAInB,UAAW,0GAA4Ga,EAAQ,MAS1I,GAPAI,EAAME,UAAUjB,OAChBY,EAAQD,EAAMX,QAEdL,EAAO,IACFI,KAAOS,EAAST,KAAKmB,QAC1BvB,EAAKM,MAAQO,EAASP,MAEjBc,EAAMH,EAAM,GAIhB,GADAE,EAAMpB,EAAUC,EADNsB,UADVD,EAAID,EAAM,IAIT,MAAMD,OAGPE,EAAID,EAGL,GAAKC,GADLnB,EAAI,KACSe,EACZ,MAAM,IAAIO,WAAY,+FAAiGP,EAAQ,4BAA8BI,EAAEnB,GAAK,KAMrK,KAJAgB,EAAO,IAAIO,MAAOR,EAAM,IAClB,GAAMD,EACZE,EAAM,GAAMP,EAAeK,EAAOhB,EAAKM,OACvCY,EAAM,GAAM,EACJhB,EAAImB,EAAGnB,IAAM,CACpB,IAAMO,EAAWa,UAAWpB,IAC3B,MAAM,IAAIC,UAAW,kEAAoED,EAAI,aAAeoB,UAAWpB,GAAM,MAE9HgB,EAAMhB,EAAE,GAAMoB,UAAWpB,GAG1B,OADAgB,EAAMhB,EAAE,GAAMF,EAAKI,KACZQ,EAASc,MAAO,KAAMR,GCjF3B,IAACH,EAAUzB","sourcesContent":["import __var_0__ from '@stdlib/assert/is-plain-object';\nimport __var_1__ from '@stdlib/assert/has-own-property';\nimport __var_2__ from '@stdlib/assert/is-array';\nimport __var_3__ from '@stdlib/ndarray/base/assert/is-order';\nimport __var_4__ from '@stdlib/ndarray/base/assert/is-index-mode';\n/**\n\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\nvar isObject = __var_0__;\nvar hasOwnProp = __var_1__;\nvar isArray = __var_2__;\nvar isOrder = __var_3__;\nvar isIndexMode = __var_4__;\n\n\n// MAIN //\n\n/**\n* Validates function options.\n*\n* @private\n* @param {Object} opts - destination object\n* @param {Options} options - function options\n* @param {(StringArray|string)} [options.mode] - specifies how to handle subscripts which exceed array dimensions\n* @param {string} [options.order] - specifies whether an array is row-major (C-style) or column-major (Fortran-style)\n* @returns {(Error|null)} null or an error object\n*\n* @example\n* var opts = {};\n* var options = {\n*     'mode': 'throw',\n*     'order': 'column-major'\n* };\n* var err = validate( opts, options );\n* if ( err ) {\n*     throw err;\n* }\n*/\nfunction validate( opts, options ) {\n\tvar i;\n\tif ( !isObject( options ) ) {\n\t\treturn new TypeError( 'invalid argument. Options must be an object. Value: `' + options + '`.' );\n\t}\n\tif ( hasOwnProp( options, 'mode' ) ) {\n\t\topts.mode = options.mode;\n\t\tif ( !isArray( opts.mode ) ) {\n\t\t\topts.mode = [ opts.mode ];\n\t\t} else if ( opts.mode.length === 0 ) {\n\t\t\treturn new TypeError( 'invalid option. `mode` option cannot be an empty array.' );\n\t\t}\n\t\tfor ( i = 0; i < opts.mode.length; i++ ) {\n\t\t\tif ( !isIndexMode( opts.mode[ i ] ) ) {\n\t\t\t\treturn new TypeError( 'invalid option. `mode` option must be a supported/recognized mode. Option: `' + opts.mode[ i ] + '`.' );\n\t\t\t}\n\t\t}\n\t}\n\tif ( hasOwnProp( options, 'order' ) ) {\n\t\topts.order = options.order;\n\t\tif ( !isOrder( opts.order ) ) {\n\t\t\treturn new TypeError( 'invalid option. `order` option must be a supported/recognized order. Option: `' + opts.order + '`.' );\n\t\t}\n\t}\n\treturn null;\n}\n\n\n// EXPORTS //\nexport default validate;\n","import __var_0__ from '@stdlib/assert/is-nonnegative-integer-array';\nimport __var_1__ from '@stdlib/assert/is-integer';\nimport __var_2__ from '@stdlib/ndarray/base/shape2strides';\nimport __var_3__ from '@stdlib/ndarray/base/sub2ind';\nimport __var_4__ from './defaults.json';\nimport __var_5__ from './validate.js';\n/**\n\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\nvar isNonNegativeIntegerArray = __var_0__.primitives;\nvar isInteger = __var_1__.isPrimitive;\nvar shape2strides = __var_2__;\nvar getIndex = __var_3__;\nvar defaults = __var_4__;\nvar validate = __var_5__;\n\n\n// MAIN //\n\n/**\n* Converts subscripts to a linear index.\n*\n* ## Notes\n*\n* -   The function accepts the following \"modes\":\n*\n*     -   `throw`: throws an error when a subscript exceeds array dimensions.\n*     -   `wrap`: wrap around subscripts exceeding array dimensions using modulo arithmetic.\n*     -   `clamp`: set subscripts exceeding array dimensions to either `0` (minimum index) or the maximum index along a particular dimension.\n*\n* -   If provided fewer modes than dimensions, the function recycles modes using modulo arithmetic.\n*\n*\n* @param {NonNegativeIntegerArray} shape - array shape\n* @param {...integer} i - subscripts\n* @param {Options} [options] - function options\n* @param {(StringArray|string)} [options.mode=[\"throw\"]] - specifies how to handle subscripts which exceed array dimensions\n* @param {string} [options.order=\"row-major\"] - specifies whether an array is row-major (C-style) or column-major (Fortran-style)\n* @throws {TypeError} first argument must be an array-like object containing nonnegative integers\n* @throws {TypeError} subscripts must be integer valued\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} must provide valid options\n* @throws {RangeError} must provide subscripts which do not exceed array dimensions\n* @throws {RangeError} number of subscripts much match the number of dimensions\n* @returns {NonNegativeInteger} linear index\n*\n* @example\n* var i = sub2ind( [ 3, 3, 3 ], 1, 2, 2 );\n* // returns 17\n*/\nfunction sub2ind() {\n\tvar options;\n\tvar shape;\n\tvar ndims;\n\tvar args;\n\tvar opts;\n\tvar err;\n\tvar len;\n\tvar i;\n\tvar j;\n\n\tshape = arguments[ 0 ];\n\tif ( !isNonNegativeIntegerArray( shape ) ) {\n\t\tthrow new TypeError( 'invalid argument. First argument must be an array-like object containing nonnegative integers. Value: `' + shape + '`.' );\n\t}\n\tlen = arguments.length;\n\tndims = shape.length;\n\n\topts = {};\n\topts.mode = defaults.mode.slice();\n\topts.order = defaults.order;\n\n\tif ( len > ndims+1 ) {\n\t\tj = len - 1;\n\t\toptions = arguments[ j ];\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t} else {\n\t\tj = len;\n\t}\n\ti = 1;\n\tif ( j-i !== ndims ) {\n\t\tthrow new RangeError( 'invalid argument. Number of provided subscripts must match the number of dimensions. ndims: ' + ndims + '. Number of subscripts: ' + (j-i) + '.' );\n\t}\n\targs = new Array( ndims+4 );\n\targs[ 0 ] = shape;\n\targs[ 1 ] = shape2strides( shape, opts.order );\n\targs[ 2 ] = 0; // strides are positive, so offset is always zero\n\tfor ( ; i < j; i++ ) {\n\t\tif ( !isInteger( arguments[ i ] ) ) {\n\t\t\tthrow new TypeError( 'invalid argument. Subscripts must be integer valued. Argument: ' + i + '. Value: `' + arguments[ i ] + '`.' );\n\t\t}\n\t\targs[ i+2 ] = arguments[ i ];\n\t}\n\targs[ i+2 ] = opts.mode; // i+2 == args.length-1\n\treturn getIndex.apply( null, args );\n}\n\n\n// EXPORTS //\nexport default sub2ind;\n","import __var_0__ from './main.js';\n/**\n\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Convert subscripts to a linear index.\n*\n* @module @stdlib/ndarray/sub2ind\n*\n* @example\n* var sub2ind = require( '@stdlib/ndarray/sub2ind' );\n*\n* var i = sub2ind( [ 3, 3, 3 ], 1, 2, 2 );\n* // returns 17\n*/\n\n// MODULES //\nvar sub2ind = __var_0__;\n\n\n// EXPORTS //\nexport default sub2ind;\n"]}