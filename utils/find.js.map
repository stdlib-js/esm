{"version":3,"sources":["@stdlib/utils/find/lib/find.js","@stdlib/utils/find/lib/index.js"],"names":["isFunction","__var_0__","isInteger","__var_1__","isPrimitive","isObject","__var_2__","isString","__var_3__","isCollection","__var_4__","hasOwnProp","__var_5__","find","arr","options","clbk","returns","count","mode","opts","len","out","ret","cb","i","k","v","TypeError","length","arguments","indexOf","push"],"mappings":"oQA2BA,IAAIA,EAAaC,EACbC,EAAYC,EAAUC,YACtBC,EAAWC,EACXC,EAAWC,EAAUJ,YACrBK,EAAeC,EACfC,EAAaC,EA6EjB,SAASC,EAAMC,EAAKC,EAASC,GAC5B,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAKJ,GAHAR,EAAO,EACPF,EAAU,CAAE,SAAU,UAAW,MAE3BR,EAAcK,KAAUP,EAAUO,GACvC,MAAM,IAAIc,UAAW,gEAAkEd,EAAM,KAU9F,GARAO,EAAMP,EAAIe,OACLC,UAAUD,OAAS,GACvBT,EAAO,GACPI,EAAKT,IAELK,EAAOL,EACPS,EAAKR,IAEAhB,EAAYwB,GACjB,MAAM,IAAII,UAAW,mEAAqEJ,EAAK,KAEhG,IAAMnB,EAAUe,GACf,MAAM,IAAIQ,UAAW,wDAA0DR,EAAO,KAEvF,GAAKT,EAAYS,EAAM,MAEtB,GADAM,EAAIN,EAAKM,GACHxB,EAAWwB,GAChB,MAAM,IAAIE,UAAW,qDAAuDF,EAAI,UAGjFA,EAAIL,EAEL,GAAKV,EAAYS,EAAM,WAAc,CAEpC,GADAG,EAAMH,EAAKH,SACLV,EAAUgB,KAAqC,IAA5BN,EAAQc,QAASR,GACzC,MAAM,IAAIK,UAAW,iIAAmIL,EAAM,KAElJ,WAARA,EACJJ,EAAO,EACY,MAARI,IACXJ,EAAO,GAMT,GAHAG,EAAM,GACNJ,EAAQ,EAEG,IAANQ,EACJ,OAAOJ,EAER,GAAKI,EAAI,EAAI,CAEZ,IAAMD,EAAI,EAAGA,EAAIJ,KAEXG,EADLG,EAAIb,EAAKW,GACGA,EAAGX,KACA,IAATK,EACJG,EAAIU,KAAM,CAAEP,EAAGE,IACK,IAATR,EACXG,EAAIU,KAAML,GAEVL,EAAIU,KAAMP,IAEXP,GAAS,KACMQ,IAXKD,KAgBtB,OAAOH,EAIR,IADAI,GAAKA,EACCD,EAAIJ,EAAI,EAAGI,GAAK,KAEhBD,EADLG,EAAIb,EAAKW,GACGA,EAAGX,KACA,IAATK,EACJG,EAAIU,KAAM,CAAEP,EAAGE,IACK,IAATR,EACXG,EAAIU,KAAML,GAEVL,EAAIU,KAAMP,IAEXP,GAAS,KACMQ,IAXQD,KAgBzB,OAAOH,EC7JL,IAACT,EAAOZ","sourcesContent":["import __var_0__ from '@stdlib/assert/is-function';\nimport __var_1__ from '@stdlib/assert/is-integer';\nimport __var_2__ from '@stdlib/assert/is-plain-object';\nimport __var_3__ from '@stdlib/assert/is-string';\nimport __var_4__ from '@stdlib/assert/is-collection';\nimport __var_5__ from '@stdlib/assert/has-own-property';\n/**\n\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\nvar isFunction = __var_0__;\nvar isInteger = __var_1__.isPrimitive;\nvar isObject = __var_2__;\nvar isString = __var_3__.isPrimitive;\nvar isCollection = __var_4__;\nvar hasOwnProp = __var_5__;\n\n\n// MAIN //\n\n/**\n* Finds elements in an array-like object that satisfy a test condition.\n*\n* @param {(Collection|string)} arr - object from which elements will be tested\n* @param {Options} [options] - function options\n* @param {integer} [options.k=arr.length] - limits the number of returned elements\n* @param {string} [options.returns='indices'] - if `values`, values are returned; if `indices`, indices are returned; if `*`, both indices and values are returned\n* @param {Function} clbk - function invoked for each array element. If the return value is truthy, the value is considered to have satisfied the test condition.\n* @throws {TypeError} first argument must be an array-like object\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} last argument must be a function\n* @throws {TypeError} `options.k` must be an integer\n* @throws {TypeError} `options.returns` must be a string equal to `values`, `indices` or `*`\n* @returns {Array} array of indices, element values, or arrays of index-value pairs\n*\n* @example\n* var data = [ 30, 20, 50, 60, 10 ];\n* var vals = find( data, condition );\n* // returns [ 0, 2, 3 ]\n*\n* function condition( val ) {\n*     return val > 20;\n* }\n*\n* @example\n* var data = [ 30, 20, 50, 60, 10 ];\n* var opts = {\n*     'k': 2,\n*     'returns': 'values'\n* };\n* var vals = find( data, opts, condition );\n* // returns [ 30, 50 ]\n*\n* function condition( val ) {\n*     return val > 20;\n* }\n*\n* @example\n* var data = [ 30, 20, 50, 60, 10 ];\n* var vals = find( data, condition );\n* // returns []\n*\n* function condition( val ) {\n*     return val > 1000;\n* }\n*\n* @example\n* var data = [ 30, 20, 50, 60, 10 ];\n* var opts = {\n*     'k': -2,\n*     'returns': 'values'\n* };\n* var vals = find( data, opts, condition );\n* // returns [ 60, 50 ]\n*\n* function condition( val ) {\n*     return val > 20;\n* }\n*\n* @example\n* var data = [ 30, 20, 50, 60, 10 ];\n* var opts = {\n*     'k': -2,\n*     'returns': '*'\n* };\n* var vals = find( data, opts, condition );\n* // returns [ [3, 60], [2, 50] ]\n*\n* function condition( val ) {\n*     return val > 20;\n* }\n*/\nfunction find( arr, options, clbk ) { // eslint-disable-line stdlib/no-redeclare\n\tvar returns;\n\tvar count;\n\tvar mode;\n\tvar opts;\n\tvar len;\n\tvar out;\n\tvar ret;\n\tvar cb;\n\tvar i;\n\tvar k;\n\tvar v;\n\n\tmode = 0;\n\treturns = [ 'values', 'indices', '*' ];\n\n\tif ( !isCollection( arr ) && !isString( arr ) ) {\n\t\tthrow new TypeError( 'invalid argument. Must provide an array-like object. Value: `' + arr + '`' );\n\t}\n\tlen = arr.length;\n\tif ( arguments.length < 3 ) {\n\t\topts = {};\n\t\tcb = options;\n\t} else {\n\t\topts = options;\n\t\tcb = clbk;\n\t}\n\tif ( !isFunction( cb ) ) {\n\t\tthrow new TypeError( 'invalid argument. Callback argument must be a function. Value: `' + cb + '`' );\n\t}\n\tif ( !isObject( opts ) ) {\n\t\tthrow new TypeError( 'invalid argument. Options must be an object. Value: `' + opts + '`' );\n\t}\n\tif ( hasOwnProp( opts, 'k' ) ) {\n\t\tk = opts.k;\n\t\tif ( !isInteger( k ) ) {\n\t\t\tthrow new TypeError( 'invalid argument. `k` must be an integer. Value: `' + k + '`' );\n\t\t}\n\t} else {\n\t\tk = len;\n\t}\n\tif ( hasOwnProp( opts, 'returns' ) ) {\n\t\tret = opts.returns;\n\t\tif ( !isString( ret ) || returns.indexOf( ret ) === -1 ) {\n\t\t\tthrow new TypeError( 'invalid argument. `returns` option must be a string and have one of the following values: `values`, `indices`, `all`. Value: `' + ret + '`' );\n\t\t}\n\t\tif ( ret === 'values' ) {\n\t\t\tmode = 1;\n\t\t} else if ( ret === '*' ) {\n\t\t\tmode = 2;\n\t\t}\n\t}\n\tout = [];\n\tcount = 0;\n\n\tif ( k === 0 ) {\n\t\treturn out;\n\t}\n\tif ( k > 0 ) {\n\t\t// Search moving from begin-to-end [0,1,...]:\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tv = arr[ i ];\n\t\t\tif ( cb( v, i, arr ) ) { // eslint-disable-line callback-return\n\t\t\t\tif ( mode === 2 ) {\n\t\t\t\t\tout.push( [ i, v ] );\n\t\t\t\t} else if ( mode === 1 ) {\n\t\t\t\t\tout.push( v );\n\t\t\t\t} else {\n\t\t\t\t\tout.push( i );\n\t\t\t\t}\n\t\t\t\tcount += 1;\n\t\t\t\tif ( count === k ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\t// Search moving from end-to-begin [...,2,1,0]:\n\tk = -k;\n\tfor ( i = len-1; i >= 0; i-- ) {\n\t\tv = arr[ i ];\n\t\tif ( cb( v, i, arr ) ) { // eslint-disable-line callback-return\n\t\t\tif ( mode === 2 ) {\n\t\t\t\tout.push( [ i, v ] );\n\t\t\t} else if ( mode === 1 ) {\n\t\t\t\tout.push( v );\n\t\t\t} else {\n\t\t\t\tout.push( i );\n\t\t\t}\n\t\t\tcount += 1;\n\t\t\tif ( count === k ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\nexport default find;\n","import __var_0__ from './find.js'; // eslint-disable-line stdlib/no-redeclare\n/**\n\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Find elements in an array-like object that satisfy a test condition.\n*\n* @module @stdlib/utils/find\n*\n* @example\n* var find = require( '@stdlib/utils/find' );\n*\n* var data = [ 30, 20, 50, 60, 10 ];\n*\n* function condition( val ) {\n*     return val > 20;\n* }\n*\n* var vals = find( data, condition );\n* // returns [ 0, 2, 3 ]\n*\n* data = [ 30, 20, 50, 60, 10 ];\n* var opts = {\n*     'k': 2,\n*     'returns': 'values'\n* };\n* vals = find( data, opts, condition );\n* // returns [ 30, 50 ]\n*/\n\n// MODULES //\nvar find = __var_0__;\n\n\n// EXPORTS //\nexport default find;\n"]}