{"version":3,"sources":["@stdlib/utils/object-inverse-by/lib/object_inverse_by.js","@stdlib/utils/object-inverse-by/lib/index.js"],"names":["objectKeys","__var_0__","isArray","__var_1__","isObject","__var_2__","isObjectLike","__var_3__","isBoolean","__var_4__","isPrimitive","isFunction","__var_5__","hasOwnProp","__var_6__","invertBy","obj","opts","transform","allowDupes","keys","len","key","val","out","cb","v","i","TypeError","arguments","length","duplicates","push"],"mappings":"6RA8BA,IAAIA,EAAaC,EACbC,EAAUC,EACVC,EAAWC,EACXC,EAAeC,EACfC,EAAYC,EAAUC,YACtBC,EAAaC,EACbC,EAAaC,EAwDjB,SAASC,EAAUC,EAAKC,EAAMC,GAC7B,IAAIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACJ,IAAMrB,EAAcU,GACnB,MAAM,IAAIY,UAAW,iEAAmEZ,EAAM,MAG/F,GADAG,GAAa,EACa,IAArBU,UAAUC,OACdL,EAAKR,MACC,CACN,IAAMb,EAAUa,GACf,MAAM,IAAIW,UAAW,kEAAoEX,EAAO,MAEjG,GAAKJ,EAAYI,EAAM,gBACtBE,EAAaF,EAAKc,YACZvB,EAAWW,IAChB,MAAM,IAAIS,UAAW,+EAAiFT,EAAa,MAGrHM,EAAKP,EAEN,IAAMP,EAAYc,GACjB,MAAM,IAAIG,UAAW,+DAAiEH,EAAK,MAK5F,GAFAJ,GADAD,EAAOpB,EAAYgB,IACRc,OACXN,EAAM,GACDL,EACJ,IAAMQ,EAAI,EAAGA,EAAIN,EAAKM,IAErBJ,EAAME,EADNH,EAAMF,EAAMO,GACGX,EAAKM,GAAON,GACrBH,EAAYW,EAAKD,IAIvBG,EAAIF,EAAKD,GACJrB,EAASwB,GACbF,EAAKD,GAAMS,KAAMV,GAEjBE,EAAKD,GAAQ,CAAEG,EAAGJ,IAPlBE,EAAKD,GAAQD,OAWf,IAAMK,EAAI,EAAGA,EAAIN,EAAKM,IAGrBH,EADAD,EAAME,EADNH,EAAMF,EAAMO,GACGX,EAAKM,GAAON,IACdM,EAGf,OAAOE,EC5EL,IAACT,EAAWd","sourcesContent":["import __var_0__ from '@stdlib/utils/keys';\nimport __var_1__ from '@stdlib/assert/is-array';\nimport __var_2__ from '@stdlib/assert/is-plain-object';\nimport __var_3__ from '@stdlib/assert/is-object-like';\nimport __var_4__ from '@stdlib/assert/is-boolean';\nimport __var_5__ from '@stdlib/assert/is-function';\nimport __var_6__ from '@stdlib/assert/has-own-property';\n/**\n\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n/* eslint-disable callback-return */\n\n'use strict';\n\n// MODULES //\nvar objectKeys = __var_0__;\nvar isArray = __var_1__;\nvar isObject = __var_2__;\nvar isObjectLike = __var_3__;\nvar isBoolean = __var_4__.isPrimitive;\nvar isFunction = __var_5__;\nvar hasOwnProp = __var_6__;\n\n\n// MAIN //\n\n/**\n* Inverts an object, such that keys become values and values become keys, according to a transform function.\n*\n* @param {ObjectLike} obj - input object\n* @param {Options} [opts] - function options\n* @param {boolean} [opts.duplicates=true] - boolean indicating whether to store duplicate keys\n* @param {Function} transform - transform function\n* @throws {TypeError} first argument must be object-like\n* @throws {TypeError} options argument must an an object\n* @throws {TypeError} last argument must be a function\n* @throws {TypeError} must provide valid options\n* @returns {Object} inverted object\n*\n* @example\n* function transform( key, value ) {\n*     return key + value;\n* }\n* var obj = {\n*     'a': 'beep',\n*     'b': 'boop'\n* };\n* var out = invertBy( obj, transform );\n* // returns { 'abeep': 'a', 'bboop': 'b' }\n*\n* @example\n* function transform( key, value ) {\n*     return value;\n* }\n* var obj = {\n*     'a': 'beep',\n*     'b': 'beep'\n* };\n* var out = invertBy( obj, transform );\n* // returns { 'beep': [ 'a', 'b' ] }\n*\n* @example\n* function transform( key, value ) {\n*     return value;\n* }\n*\n* var obj = {};\n* obj.a = 'beep';\n* obj.b = 'boop';\n* obj.c = 'beep'; // inserted after `a`\n*\n* var opts = {\n*     'duplicates': false\n* };\n* var out = invertBy( obj, opts, transform );\n* // returns { 'beep': 'c', 'boop': 'b' }\n*/\nfunction invertBy( obj, opts, transform ) {\n\tvar allowDupes;\n\tvar keys;\n\tvar len;\n\tvar key;\n\tvar val;\n\tvar out;\n\tvar cb;\n\tvar v;\n\tvar i;\n\tif ( !isObjectLike( obj ) ) {\n\t\tthrow new TypeError( 'invalid argument. First argument must be object-like. Value: `' + obj + '`.' );\n\t}\n\tallowDupes = true;\n\tif ( arguments.length === 2 ) {\n\t\tcb = opts;\n\t} else {\n\t\tif ( !isObject( opts ) ) {\n\t\t\tthrow new TypeError( 'invalid argument. Options arguments must be an object. Value: `' + opts + '`.' );\n\t\t}\n\t\tif ( hasOwnProp( opts, 'duplicates' ) ) {\n\t\t\tallowDupes = opts.duplicates;\n\t\t\tif ( !isBoolean( allowDupes ) ) {\n\t\t\t\tthrow new TypeError( 'invalid argument. `duplicates` option must be a boolean primitive. Option: `' + allowDupes + '`.' );\n\t\t\t}\n\t\t}\n\t\tcb = transform;\n\t}\n\tif ( !isFunction( cb ) ) {\n\t\tthrow new TypeError( 'invalid argument. Last argument must be a function. Value: `' + cb + '`.' );\n\t}\n\tkeys = objectKeys( obj );\n\tlen = keys.length;\n\tout = {};\n\tif ( allowDupes ) {\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tkey = keys[ i ];\n\t\t\tval = cb( key, obj[ key ], obj );\n\t\t\tif ( !hasOwnProp( out, val ) ) {\n\t\t\t\tout[ val ] = key;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tv = out[ val ];\n\t\t\tif ( isArray( v ) ) {\n\t\t\t\tout[ val ].push( key );\n\t\t\t} else {\n\t\t\t\tout[ val ] = [ v, key ];\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tkey = keys[ i ];\n\t\t\tval = cb( key, obj[ key ], obj );\n\t\t\tout[ val ] = key;\n\t\t}\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\nexport default invertBy;\n","import __var_0__ from './object_inverse_by.js';\n/**\n\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Invert an object, such that keys become values and values become keys, according to a transform function.\n*\n* @module @stdlib/utils/object-inverse-by\n*\n* @example\n* var invertBy = require( '@stdlib/utils/object-inverse-by' );\n*\n* function transform( key, value ) {\n*     return key + value;\n* }\n* var obj = {\n*     'a': 'beep',\n*     'b': 'boop'\n* };\n* var out = invertBy( obj, transform );\n* // returns { 'abeep': 'a', 'bboop': 'b' }\n*\n* @example\n* var invertBy = require( '@stdlib/utils/object-inverse-by' );\n*\n* function transform( key, value ) {\n*     return value;\n* }\n* var obj = {\n*     'a': 'beep',\n*     'b': 'beep'\n* };\n* var out = invertBy( obj, transform );\n* // returns { 'beep': [ 'a', 'b' ] }\n*\n* @example\n* var invertBy = require( '@stdlib/utils/object-inverse-by' );\n*\n* function transform( key, value ) {\n*     return value;\n* }\n*\n* var obj = {};\n* obj.a = 'beep';\n* obj.b = 'boop';\n* obj.c = 'beep'; // inserted after `a`\n*\n* var opts = {\n*     'duplicates': false\n* };\n* var out = invertBy( obj, opts, transform );\n* // returns { 'beep': 'c', 'boop': 'b' }\n*/\n\n// MODULES //\nvar invertBy = __var_0__;\n\n\n// EXPORTS //\nexport default invertBy;\n"]}