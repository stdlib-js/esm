{"version":3,"sources":["@stdlib/nlp/porter-stemmer/lib/main.js","@stdlib/nlp/porter-stemmer/lib/index.js"],"names":["isString","__var_0__","isPrimitive","endsWith","__var_1__","lowercase","__var_2__","replace","__var_3__","step2list","ational","tional","enci","anci","izer","bli","alli","entli","eli","ousli","ization","ation","ator","alism","iveness","fulness","ousness","aliti","iviti","biliti","logi","step3list","icate","ative","alize","iciti","ical","ful","ness","c","v","C","V","RE_CV","RegExp","mgr0","RE_MGR0","meq1","RE_MEQ1","mgr1","RE_MGR1","sV","RE_SV","RE_STEP1A","RE2_STEP1A","RE_STEP1B","RE2_STEP1B","RE_STEP1C","RE_STEP2","RE_STEP3","RE_STEP4","RE2_STEP4","RE_STEP5","RE_LAST","RE_ATBLIZ","RE_DOUBLE","porterStemmer","word","firstch","suffix","stem","fp","TypeError","length","toUpperCase","substr","test","exec","toLowerCase"],"mappings":"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","sourcesContent":["import __var_0__ from '@stdlib/assert/is-string';\nimport __var_1__ from '@stdlib/string/ends-with';\nimport __var_2__ from '@stdlib/string/lowercase';\nimport __var_3__ from '@stdlib/string/replace';\n/**\n\n*\n* Copyright (c) 2019 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*\n*\n* ## Notice\n*\n* This code is a modification of an existing JavaScript implementation of ther [Porter stemming algorithm]{@link https://tartarus.org/martin/PorterStemmer/}.\n*\n* ```text\n* Release 1 be 'andargor', Jul 2004\n* Release 2 (substantially revised) by Christopher McKenzie, Aug 2009\n* ```\n*/\n\n'use strict';\n\n// MODULES //\nvar isString = __var_0__.isPrimitive;\nvar endsWith = __var_1__;\nvar lowercase = __var_2__;\nvar replace = __var_3__;\n\n\n// VARIABLES //\n\nvar step2list = {\n\t'ational': 'ate',\n\t'tional': 'tion',\n\t'enci': 'ence',\n\t'anci': 'ance',\n\t'izer': 'ize',\n\t'bli': 'ble',\n\t'alli': 'al',\n\t'entli': 'ent',\n\t'eli': 'e',\n\t'ousli': 'ous',\n\t'ization': 'ize',\n\t'ation': 'ate',\n\t'ator': 'ate',\n\t'alism': 'al',\n\t'iveness': 'ive',\n\t'fulness': 'ful',\n\t'ousness': 'ous',\n\t'aliti': 'al',\n\t'iviti': 'ive',\n\t'biliti': 'ble',\n\t'logi': 'log'\n};\nvar step3list = {\n\t'icate': 'ic',\n\t'ative': '',\n\t'alize': 'al',\n\t'iciti': 'ic',\n\t'ical': 'ic',\n\t'ful': '',\n\t'ness': ''\n};\nvar c = '[^aeiou]'; // consonant\nvar v = '[aeiouy]'; // vowel\nvar C = c + '[^aeiouy]*'; // consonant sequence\nvar V = v + '[aeiou]*'; // vowel sequence\nvar RE_CV = new RegExp( '^' + C + v + '[^aeiouwxy]$' );\nvar mgr0 = '^(' + C + ')?' + V + C; // [C]VC... is m>0\nvar RE_MGR0 = new RegExp( mgr0 );\nvar meq1 = '^(' + C + ')?' + V + C + '(' + V + ')?$'; // [C]VC[V] is m=1\nvar RE_MEQ1 = new RegExp( meq1 );\nvar mgr1 = '^(' + C + ')?' + V + C + V + C; // [C]VCVC... is m>1\nvar RE_MGR1 = new RegExp( mgr1 );\nvar sV = '^(' + C + ')?' + v; // vowel in stem\nvar RE_SV = new RegExp( sV );\nvar RE_STEP1A = /^(.+?)(ss|i)es$/;\nvar RE2_STEP1A = /^(.+?)([^s])s$/;\nvar RE_STEP1B = /^(.+?)eed$/;\nvar RE2_STEP1B = /^(.+?)(ed|ing)$/;\nvar RE_STEP1C = /^(.+?)y$/;\nvar RE_STEP2 = /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;\nvar RE_STEP3 = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;\nvar RE_STEP4 = /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;\nvar RE2_STEP4 = /^(.+?)(s|t)(ion)$/;\nvar RE_STEP5 = /^(.+?)e$/;\nvar RE_LAST = /.$/;\nvar RE_ATBLIZ = /(at|bl|iz)$/;\nvar RE_DOUBLE = new RegExp( '([^aeiouylsz])\\\\1$' );\n\n\n// MAIN //\n\n/**\n* Extracts the stem of a given word using the Porter stemming algorithm.\n*\n* ## References\n*\n* -   Porter, Michael F. 1980. \"An algorithm for suffix stripping.\" _Program_ 13 (3): 130â€“37. doi:[10.1108/eb046814][@porter:1980].\n*\n* [@porter:1980]: https://doi.org/10.1108/eb046814\n*\n* @param {string} word - input word\n* @throws {TypeError} first argument must be a string primitive\n* @returns {string} word stem\n*\n* @example\n* var out = porterStemmer( 'walking' );\n* // returns 'walk'\n*\n* @example\n* var out = porterStemmer( 'walked' );\n* // returns 'walk'\n*\n* @example\n* var out = porterStemmer( 'walks' );\n* // returns 'walk'\n*\n* @example\n* var out = porterStemmer( 'worldwide' );\n* // returns 'worldwid'\n*\n* @example\n* var out = porterStemmer( '' );\n* // returns ''\n*/\nfunction porterStemmer( word ) {\n\tvar firstch;\n\tvar suffix;\n\tvar stem;\n\tvar fp;\n\n\tif ( !isString( word ) ) {\n\t\tthrow new TypeError( 'invalid argument. First argument must be a string primitive. Value: `' + word + '`.' );\n\t}\n\tif ( word.length < 3 ) {\n\t\treturn word;\n\t}\n\tword = lowercase( word );\n\tfirstch = word[ 0 ];\n\tif ( firstch === 'y' ) {\n\t\tword = firstch.toUpperCase() + word.substr( 1 );\n\t}\n\n\t// Step 1a:\n\tif ( RE_STEP1A.test( word ) ) {\n\t\tword = replace( word, RE_STEP1A, '$1$2' );\n\t} else if ( RE2_STEP1A.test( word ) ) {\n\t\tword = replace( word, RE2_STEP1A, '$1$2' );\n\t}\n\n\t// Step 1b:\n\tif ( RE_STEP1B.test( word ) ) {\n\t\tfp = RE_STEP1B.exec( word );\n\t\tif ( RE_MGR0.test( fp[ 1 ] ) ) {\n\t\t\tword = replace( word, RE_LAST, '' );\n\t\t}\n\t} else if ( RE2_STEP1B.test( word ) ) {\n\t\tfp = RE2_STEP1B.exec( word );\n\t\tstem = fp[ 1 ];\n\t\tif ( RE_SV.test( stem ) ) {\n\t\t\tword = stem;\n\t\t\tif ( RE_ATBLIZ.test( word ) ) {\n\t\t\t\tword += 'e';\n\t\t\t} else if ( RE_DOUBLE.test( word ) ) {\n\t\t\t\tword = replace( word, RE_LAST, '' );\n\t\t\t} else if ( RE_CV.test( word ) ) {\n\t\t\t\tword += 'e';\n\t\t\t}\n\t\t}\n\t}\n\n\t// Step 1c:\n\tif ( RE_STEP1C.test( word ) ) {\n\t\tfp = RE_STEP1C.exec( word );\n\t\tstem = fp[ 1 ];\n\t\tif ( RE_SV.test( stem ) ) {\n\t\t\tword = stem + 'i';\n\t\t}\n\t}\n\n\t// Step 2:\n\tif ( RE_STEP2.test( word ) ) {\n\t\tfp = RE_STEP2.exec( word );\n\t\tstem = fp[ 1 ];\n\t\tsuffix = fp[ 2 ];\n\t\tif ( RE_MGR0.test( stem ) ) {\n\t\t\tword = stem + step2list[ suffix ];\n\t\t}\n\t}\n\n\t// Step 3:\n\tif ( RE_STEP3.test( word ) ) {\n\t\tfp = RE_STEP3.exec( word );\n\t\tstem = fp[ 1 ];\n\t\tsuffix = fp[ 2 ];\n\t\tif ( RE_MGR0.test( stem ) ) {\n\t\t\tword = stem + step3list[ suffix ];\n\t\t}\n\t}\n\n\t// Step 4:\n\tif ( RE_STEP4.test( word ) ) {\n\t\tfp = RE_STEP4.exec( word );\n\t\tstem = fp[ 1 ];\n\t\tif ( RE_MGR1.test( stem ) ) {\n\t\t\tword = stem;\n\t\t}\n\t} else if ( RE2_STEP4.test( word ) ) {\n\t\tfp = RE2_STEP4.exec( word );\n\t\tstem = fp[ 1 ] + fp[ 2 ];\n\t\tif ( RE_MGR1.test( stem ) ) {\n\t\t\tword = stem;\n\t\t}\n\t}\n\n\t// Step 5:\n\tif ( RE_STEP5.test( word ) ) {\n\t\tfp = RE_STEP5.exec( word );\n\t\tstem = fp[ 1 ];\n\t\tif (\n\t\t\tRE_MGR1.test( stem ) ||\n\t\t\t( RE_MEQ1.test( stem ) && !( RE_CV.test( stem ) ) )\n\t\t) {\n\t\t\tword = stem;\n\t\t}\n\t}\n\tif ( endsWith( word, 'll' ) && RE_MGR1.test( word ) ) {\n\t\tword = replace( word, RE_LAST, '' );\n\t}\n\n\t// Turn initial Y back to y:\n\tif ( firstch === 'y' ) {\n\t\tword = firstch.toLowerCase() + word.substr( 1 );\n\t}\n\treturn word;\n}\n\n\n// EXPORTS //\nexport default porterStemmer;\n","import __var_0__ from './main.js';\n/**\n\n*\n* Copyright (c) 2019 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Extract the stem of a given word.\n*\n* @module @stdlib/nlp/porter-stemmer\n*\n* @example\n* var porterStemmer = require( '@stdlib/nlp/porter-stemmer' );\n*\n* var out = porterStemmer( 'walking' );\n* // returns 'walk'\n*\n* out = porterStemmer( 'walked' );\n* // returns 'walk'\n*\n* out = porterStemmer( 'walks' );\n* // returns 'walk'\n*/\n\n// MODULES //\nvar porterStemmer = __var_0__;\n\n\n// EXPORTS //\nexport default porterStemmer;\n"]}